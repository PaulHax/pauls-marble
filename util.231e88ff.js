parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"CaYe":[function(require,module,exports) {
"use strict";window.SS=window.SS||{},SS.util=SS.util||{},SS.util.clamp=function(e,t,a){return Math.max(Math.min(e,a),t)},SS.util.randomInt=function(e,t,a){return Math.floor(SS.util.randomFloat(e,t+1,a))},SS.util.randomFloat=function(e,t,a){return SS.util.random(a)*(t-e)+e},SS.util.random=function(e){var t=SS.util.random;t.MAX=t.MAX||Math.pow(2,32),t.a=1664525,t.c=1013904223,t.seeds=t.seeds||{};var a=e=e||0;if("string"==typeof e)if(null==t.seeds[e]){var i=SS.util.numberFromString(e);t.seeds[e]=i,e=i}else e=t.seeds[e];t.series=t.series||{},t.series[a]=t.series[a]||e;var r=t.series[a],n=(t.a*r+t.c)%t.MAX;return t.series[a]=n,n/t.MAX},SS.util.resetRandomSeries=function(e){var t=[];for(var a in SS.util.random.series)0==a.indexOf(e)&&t.push(a);for(var a in t)delete SS.util.random.series[t[a]]},SS.util.makeSpecifiedArray1D=function(e,t,a){for(var i=t,r=0;r<e;r++)"function"==typeof t&&(i=t(r)),a[r]=i;return a},window.N=65536,window.G=SS.util.makeSpecifiedArray1D(N,Math.random,new Float32Array(N)),window.P=SS.util.makeSpecifiedArray1D(N,function(){return SS.util.randomInt(0,N-1)},new Uint32Array(N)),SS.util.random4=function(e,t,a){return G[(e+P[(t+P[a%N])%N])%N]},SS.util.EditorCamera=function(e,t,a,i,r){this.camera=e,this.mouseDown=!1,this.startRadius=a||20,this.startExp=6,this.radius=this.startExp,this.originObject=r||{position:new THREE.Vector3},this.cameraStartPos=i||new THREE.Vector2(Math.PI/8,-Math.PI/4),this.cameraPos=this.cameraStartPos.clone(),this.mouseClickPos=new THREE.Vector2;var n=this;this.getScaledRadius=function(e){return Math.exp(e)-Math.exp(this.startExp)+this.startRadius},this.zoomCamera=function(){this.camera.position.normalize().multiplyScalar(this.getScaledRadius(this.radius))},this.rotateCamera=function(){this.camera.position.y=-this.cameraPos.y,this.camera.position.x=Math.sin(this.cameraPos.x),this.camera.position.z=Math.cos(this.cameraPos.x),this.zoomCamera(),this.camera.lookAt(new THREE.Vector3(0,0,0)),this.camera.position.add(this.originObject.position)},t.addEventListener("mousemove",function(e){var t=new THREE.Vector2(e.clientX,e.clientY);if(1==n.mouseDown){var a=t.clone().sub(n.mouseClickPos).multiplyScalar(.004);n.cameraPos=n.cameraStartPos.clone().add(a),n.rotateCamera()}}),t.addEventListener("mousewheel",function(e){var t=e.wheelDelta/2e4;n.getScaledRadius(n.radius-t)>=0&&(n.radius-=t,n.zoomCamera())}),t.addEventListener("mousedown",function(e){var t=new THREE.Vector2(e.clientX,e.clientY);n.mouseClickPos=t,n.mouseDown=!0}),t.addEventListener("mouseup",function(e){n.cameraStartPos=n.cameraPos,n.mouseDown=!1}),this.rotateCamera()},SS.util.addResizeListener=function(){window.addEventListener("resize",function(){renderer.setSize(window.innerWidth,window.innerHeight),camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix()})},SS.util.computeGeometry=function(e){e.computeVertexNormals(),e.computeFaceNormals(),e.computeMorphNormals(),e.computeBoundingSphere(),e.computeBoundingBox(),e.verticesNeedUpdate=!0,e.elementsNeedUpdate=!0,e.uvsNeedUpdate=!0,e.normalsNeedUpdate=!0,e.tangentsNeedUpdate=!0,e.colorsNeedUpdate=!0,e.lineDistancesNeedUpdate=!0,e.buffersNeedUpdate=!0,e.groupsNeedUpdate=!0},SS.util.trilinearInterpolation=function(e,t,a){a=a||function(e,t,a){return e*(1-a)+t*a};var i={x:Math.floor(e.x),y:Math.floor(e.y),z:Math.floor(e.z)},r={x:i.x+1,y:i.y+1,z:i.z+1},n=(e.x-i.x)/Math.max(1,r.x-i.x),o=(e.y-i.y)/Math.max(1,r.y-i.y),s=(e.z-i.z)/Math.max(1,r.z-i.z),u=a(t(i.x,i.y,i.z),t(r.x,i.y,i.z),n),c=a(t(i.x,r.y,i.z),t(r.x,r.y,i.z),n),d=a(t(i.x,i.y,r.z),t(r.x,i.y,r.z),n),m=a(t(i.x,r.y,r.z),t(r.x,r.y,r.z),n),l=a(u,c,o),S=a(d,m,o);return a(l,S,s)},SS.util.nearestNeighbour=function(e,t){return t(Math.floor(e.x),Math.floor(e.y),Math.floor(e.z))},SS.util.tricosineInterpolation=function(e,t){return SS.util.trilinearInterpolation(e,t,function(e,t,a){var i=3.1415927*a,r=.5*(1-Math.cos(i));return e*(1-r)+t*r})},SS.util.heightToNormalMap=function(e,t){var a=e.image.width,i=e.image.height,r=a*i;t=t||1;for(var n=function(r,n){return r=Math.min(r,a-1),n=Math.min(n,i-1),(e.image.data[4*(n*a+r)+0]/255+e.image.data[4*(n*a+r)+1]/255+e.image.data[4*(n*a+r)+2]/255)/3*t},o=new Uint8Array(3*(a*i)),s=new THREE.DataTexture(o,a,i,THREE.RGBFormat),u=0;u<r;u++){var c=u%a,d=i-Math.floor(u/a),m=new THREE.Vector3(0,0,n(c,d)),l=new THREE.Vector3(0,1,n(c,d+1)),S=new THREE.Vector3(1,0,n(c+1,d)).sub(m).cross(l.sub(m)).normalize();s.image.data[3*u+0]=255*(S.x/2+.5),s.image.data[3*u+1]=255*(S.y/2+.5),s.image.data[3*u+2]=255*(S.z/2+.5)}return s};
},{}]},{},["CaYe"], null)
//# sourceMappingURL=util.231e88ff.js.map